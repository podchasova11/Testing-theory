# Кратко и наглядно:

## Основное различие между Kafka и RabbitMQ

- **Архитектура и модель коммуникации**
  - **Kafka**: распределённая потоковая платформа, ориентированная на журнал (log). Сообщения хранятся в топиках как непрерывная лента и потребители читают их в любом темпе, поддерживая точку чтения (offset). Подходит для больших потоков данных, логирования, событийной архитектуры и обработки в реальном времени.
  - **RabbitMQ**: брокер сообщений по очередям. Сообщения отправляются в очереди и доставляются потребителям. Ориентирован на надёжную доставку и гибкие схемы маршрутизации (routing, exchange types). Лучше для задач с очередями задач, запрос-ответ и интеграции между сервисами.

- **Поведение доставки**
  - **Kafka**: «как журнал» — публикация не удаляется немедленно; потребители читают с смещений (offsets). Высокая пропускная способность, низкая задержка при больших объёмах. Гарантии зависят от настроек (at-least-once, exactly-once с дополнительными мерами).
  **RabbitMQ**: очереди и маршруты; сообщения удаляются после подтверждения потребителем (ack). Обычно низкая задержка и надёжность доставки «один раз» при корректной настройке.

- **Гарантии и параметры надёжности**
  - **Kafka**: хранение данных на диске, возможность повторного воспроизведения, репликация по кластеру. Отлично подходит для исторических данных и повторной обработки.
  **RabbitMQ**: поддерживает подтверждения сообщений, подтверждения канала, долговременную подписку (durable queues, persistent messages). Хорошо для оперативной передачи задач и взаимодействия сервисов.

- **Характеристики производительности**
  - **Kafka**: высокая пропускная способность, горизонтальная масштабируемость, эффективна при больших объёмах и потребителях-«партнёрах» (stream processing, ETL).
  **RabbitMQ**: низкая задержка для большинства сценариев, простая настройка, хороша для микро-сервисной архитектуры с синхронной коммуникацией.

- **Сценарии применения**
  - **Kafka**: сбор и обработка потоков событий, аналитика в реальном времени, event sourcing, интеграция больших систем через потоки.
  - **RabbitMQ**: очереди задач, асинхронная обработка, межсервисная коммуникация, когда важна мгновенная доставка или маршрутизация по правилам.

---

## Когда что выбрать?

- Выберите **Kafka** если:
  - Нужно обрабатывать и хранить огромные потоки событий.
  - Важна возможность повторного проигрывания и аналитика по времени.
  - Требуется масштабируемость и долговременное хранение сообщений.

- Выберите **RabbitMQ** если:
  - Нужна надёжная доставка задач между сервисами с подтверждениями.
  - Требуется гибкая маршрутизация и поддержка разных паттернов (Request/Reply, fanout, topics).
  - Система должна быстро реагировать на задачи и не обязательно хранить историю событий.

---
